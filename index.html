<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NostrMart - Decentralized Marketplace</title>
    <meta name="description" content="A modern, decentralized marketplace built on the Nostr protocol">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="css/base/reset.css" as="style">
    <link rel="preload" href="css/base/typography.css" as="style">
    <link rel="preload" href="css/base/colors.css" as="style">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/base/reset.css">
    <link rel="stylesheet" href="css/base/typography.css">
    <link rel="stylesheet" href="css/base/colors.css">
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/forms.css">
    <link rel="stylesheet" href="css/components/navigation.css">
    <link rel="stylesheet" href="css/components/modals.css">
    <link rel="stylesheet" href="css/pages/home.css">
    <link rel="stylesheet" href="css/utilities/spacing.css">
    <link rel="stylesheet" href="css/utilities/animations.css">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="NostrMart">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/" class="brand-link">
                    <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                    </svg>
                    <span class="brand-text">NostrMart</span>
                </a>
            </div>
            
            <div class="nav-menu">
                <a href="/" class="nav-link active">Home</a>
                <a href="/browse" class="nav-link">Browse</a>
                <a href="/create" class="nav-link">Create</a>
                <a href="/profile" class="nav-link">Profile</a>
            </div>
            
            <div class="nav-search">
                <div class="search-container">
                    <input type="search" class="search-input" placeholder="Search marketplace..." aria-label="Search marketplace">
                    <button class="search-button" aria-label="Search">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="nav-actions">
                <button class="theme-toggle" aria-label="Toggle theme" title="Toggle dark/light theme">
                    <svg class="theme-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                </button>
                
                <button class="wallet-connect" id="wallet-connect" aria-label="Connect wallet">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <line x1="8" y1="21" x2="16" y2="21"/>
                        <line x1="12" y1="17" x2="12" y2="21"/>
                    </svg>
                    <span class="wallet-text">Connect</span>
                </button>
                
                <button class="nav-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                    <span class="hamburger"></span>
                    <span class="hamburger"></span>
                    <span class="hamburger"></span>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div class="mobile-nav" id="mobile-nav">
            <div class="mobile-nav-content">
                <a href="/" class="mobile-nav-link active">Home</a>
                <a href="/browse" class="mobile-nav-link">Browse</a>
                <a href="/create" class="mobile-nav-link">Create</a>
                <a href="/profile" class="mobile-nav-link">Profile</a>
                <div class="mobile-nav-search">
                    <input type="search" class="mobile-search-input" placeholder="Search marketplace...">
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero" aria-labelledby="hero-title">
            <div class="hero-container">
                <div class="hero-content">
                    <h1 id="hero-title" class="hero-title">
                        Decentralized Marketplace
                        <span class="hero-subtitle">Built on Nostr Protocol</span>
                    </h1>
                    <p class="hero-description">
                        Buy, sell, and trade with complete privacy and decentralization. 
                        No intermediaries, no censorship, just peer-to-peer commerce.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-large" id="browse-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                                <line x1="12" y1="22.08" x2="12" y2="12"/>
                            </svg>
                            Browse Marketplace
                        </button>
                        <button class="btn btn-secondary btn-large" id="create-listing-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Create Listing
                        </button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="hero-cards">
                        <div class="hero-card card-1">
                            <div class="card-image"></div>
                            <div class="card-content">
                                <h3>Digital Art</h3>
                                <p>0.001 BTC</p>
                            </div>
                        </div>
                        <div class="hero-card card-2">
                            <div class="card-image"></div>
                            <div class="card-content">
                                <h3>NFT Collection</h3>
                                <p>0.005 BTC</p>
                            </div>
                        </div>
                        <div class="hero-card card-3">
                            <div class="card-image"></div>
                            <div class="card-content">
                                <h3>Services</h3>
                                <p>0.002 BTC</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Listings -->
        <section class="featured" aria-labelledby="featured-title">
            <div class="container">
                <div class="section-header">
                    <h2 id="featured-title" class="section-title">Featured Listings</h2>
                    <p class="section-description">Discover trending items in the marketplace</p>
                </div>
                
                <div class="listings-grid" id="featured-listings">
                    <!-- Listings will be populated by JavaScript -->
                    <div class="listing-skeleton">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-title"></div>
                            <div class="skeleton-price"></div>
                        </div>
                    </div>
                    <div class="listing-skeleton">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-title"></div>
                            <div class="skeleton-price"></div>
                        </div>
                    </div>
                    <div class="listing-skeleton">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-title"></div>
                            <div class="skeleton-price"></div>
                        </div>
                    </div>
                    <div class="listing-skeleton">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-title"></div>
                            <div class="skeleton-price"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section class="categories" aria-labelledby="categories-title">
            <div class="container">
                <div class="section-header">
                    <h2 id="categories-title" class="section-title">Browse Categories</h2>
                    <p class="section-description">Find what you're looking for</p>
                </div>
                
                <div class="categories-grid">
                    <a href="#" class="category-card" data-category="digital-art">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <h3>Digital Art</h3>
                        <p>NFTs, illustrations, and digital creations</p>
                    </a>
                    
                    <a href="#" class="category-card" data-category="services">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                        </div>
                        <h3>Services</h3>
                        <p>Freelance work and professional services</p>
                    </a>
                    
                    <a href="#" class="category-card" data-category="collectibles">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                            </svg>
                        </div>
                        <h3>Collectibles</h3>
                        <p>Rare items and unique collectibles</p>
                    </a>
                    
                    <a href="#" class="category-card" data-category="software">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                <line x1="8" y1="21" x2="16" y2="21"/>
                                <line x1="12" y1="17" x2="12" y2="21"/>
                            </svg>
                        </div>
                        <h3>Software</h3>
                        <p>Apps, tools, and digital products</p>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="brand-link">
                        <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                        <span class="brand-text">NostrMart</span>
                    </div>
                    <p class="footer-description">
                        Decentralized marketplace built on the Nostr protocol. 
                        Trade with privacy, freedom, and no intermediaries.
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Marketplace</h4>
                        <ul>
                            <li><a href="#">Browse</a></li>
                            <li><a href="#">Categories</a></li>
                            <li><a href="#">Create Listing</a></li>
                            <li><a href="/profile">Profile</a></li>
                            <li><a href="#">How it Works</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">FAQ</a></li>
                            <li><a href="#">Community</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Protocol</h4>
                        <ul>
                            <li><a href="#">Nostr</a></li>
                            <li><a href="#">Documentation</a></li>
                            <li><a href="#">API</a></li>
                            <li><a href="#">GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 NostrMart. Built on Nostr protocol.</p>
                <div class="footer-social">
                    <a href="#" aria-label="Twitter">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
                        </svg>
                    </a>
                    <a href="#" aria-label="GitHub">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- Scripts -->
    <script src="js/utils/animations.js"></script>
    <script src="js/services/api.js"></script>
    <script src="js/services/nostr.js"></script>
    <script src="js/services/storage.js"></script>
    <script src="js/components/WalletConnect.js"></script>
    <script src="js/components/Modal.js"></script>
    <script src="js/components/Toast.js"></script>
    <script src="js/pages/Home.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
